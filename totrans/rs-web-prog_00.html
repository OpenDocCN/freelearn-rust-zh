<html><head></head><body>
		<div><h1 id="_idParaDest-5"><a id="_idTextAnchor004"/>Preface</h1>
			<p>Do you want to push your web applications to the limit for speed and low energy consumption but still have memory safety? Rust enables you to have memory safety without the garbage collection and a similar energy consumption as the C programming language. This means you can create high-performance and secure applications with relative ease. </p>
			<p>This book will take you through each stage of web development resulting in you deploying advanced web applications built in Rust and packaged in distroless Docker, resulting in server images around the size of 50 MB on AWS using automated build and deployment pipes that we created.</p>
			<p>You’ll start with an introduction to programming in Rust so you can avoid the common pitfalls when migrating from a traditional dynamic programming language. The book will show you how to structure Rust code for a project that spans multiple pages and modules. Next, you’ll explore the Actix Web framework and get a basic web server up and running. As you advance, you’ll learn how to process JSON requests and display the data from the server via HTML, CSS, and JavaScript and even build a basic React application for our data. You’ll also learn how to persist data and create RESTful services in Rust, where we log in and authenticate users and cache data in the frontend. Later, you’ll build an automated build and deployment process for the app on AWS over two EC2 instances, where we load balance the HTTPS traffic from a registered domain to our application on those EC2 instances, which we will build using Terraform. You will also lock down the traffic directly to the EC2 instances by configuring security groups in Terraform. You’ll then cover multi-layered builds to produce distroless Rust images. Finally, you’ll cover advanced web concepts exploring async Rust, Tokio, Hyper, and TCP framing. With these tools, you will implement the actor model to enable you to implement advanced complex async real-time event processing systems, practicing by building a basic stock purchasing system. You’ll finish the book by building your own queuing mechanism on Redis, where your own Rust home-built server and worker nodes consume the tasks on the queue and process these tasks.</p>
			<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>Who this book is for</h1>
			<p>This book on web programming with Rust is for web developers who have programmed in traditional languages, such as Python, Ruby, JavaScript, and Java, and are looking to develop high-performance web applications with Rust. Although no prior experience with Rust is necessary, a solid understanding of web development principles and basic knowledge of HTML, CSS, and JavaScript is required if you want to get the most out of this book.</p>
			<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>What this book covers</h1>
			<p><a href="B18722_01.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>, <em class="italic">A Quick Introduction to Rust</em>, provides the basics of the Rust programming language.</p>
			<p><a href="B18722_02.xhtml#_idTextAnchor039"><em class="italic">Chapter 2</em></a>, <em class="italic">Designing Your Web Application in Rust</em>, covers building and managing applications in Rust.</p>
			<p><a href="B18722_03.xhtml#_idTextAnchor059"><em class="italic">Chapter 3</em></a>, <em class="italic">Handling HTTP Requests</em>, covers building a basic Rust server that handles HTTP requests using the Actix Web framework.</p>
			<p><a href="B18722_04.xhtml#_idTextAnchor073"><em class="italic">Chapter 4</em></a>, <em class="italic">Processing HTTP Requests</em>, covers extracting and handling data from an incoming HTTP request. </p>
			<p><a href="B18722_05.xhtml#_idTextAnchor091"><em class="italic">Chapter 5</em></a>, <em class="italic">Displaying Content in the Browser</em>, covers displaying data from the server and sending requests to the server from the browser with HTML, CSS, and JavaScript with React.</p>
			<p><a href="B18722_06.xhtml#_idTextAnchor127"><em class="italic">Chapter 6</em></a>, <em class="italic">Data Persistence with PostgreSQL</em>, covers managing and structuring data in PostgreSQL and interacting with the database with our Rust web server.</p>
			<p><a href="B18722_07.xhtml#_idTextAnchor149"><em class="italic">Chapter 7</em></a>, <em class="italic">Managing User Sessions</em>, covers authentication and managing of user sessions when making requests to the web server.</p>
			<p><a href="B18722_08.xhtml#_idTextAnchor168"><em class="italic">Chapter 8</em></a>, <em class="italic">Building RESTful Services</em>, covers implementing RESTful concepts for Rust web servers. </p>
			<p><a href="B18722_09.xhtml#_idTextAnchor182"><em class="italic">Chapter 9</em></a>, <em class="italic">Testing Our Application Endpoints and Components</em>, covers end-to-end testing pipelines and unit testing on Rust web servers using Postman. </p>
			<p><a href="B18722_10.xhtml#_idTextAnchor200"><em class="italic">Chapter 10</em></a>, <em class="italic">Deploying Our Application on AWS</em>, covers building automated build and deployment pipelines to deploy on AWS using Docker and automating the infrastructure building with Terraform.</p>
			<p><a href="B18722_11.xhtml#_idTextAnchor222"><em class="italic">Chapter 11</em></a>, <em class="italic">Configuring HTTPS with NGINX on AWS</em>, covers configuring HTTPS and routing to servers via load balancing on AWS with NGINX and routing traffic to different applications depending on endpoints in the URL.</p>
			<p><a href="B18722_12.xhtml#_idTextAnchor246"><em class="italic">Chapter 12</em></a>, <em class="italic">Recreating Our Application in Rocket</em>, covers slotting our existing application into a Rocket web framework.</p>
			<p><a href="B18722_13.xhtml#_idTextAnchor264"><em class="italic">Chapter 13</em></a>, <em class="italic">Best Practices for a Clean Web App Repository</em>, covers cleaning up a web application repository with multi-stage Docker builds for smaller images and init Docker containers to automate database migrations on deployment.</p>
			<p><a href="B18722_14.xhtml#_idTextAnchor279"><em class="italic">Chapter 14</em></a>, <em class="italic">Exploring the Tokio Framework</em>, covers implementing basic async code using the Tokio framework to facilitate an async runtime.</p>
			<p><a href="B18722_15.xhtml#_idTextAnchor291"><em class="italic">Chapter 15</em></a>, <em class="italic">Accepting TCP Traffic with Tokio</em>, covers sending, receiving, and processing TCP traffic.</p>
			<p><a href="B18722_16.xhtml#_idTextAnchor306"><em class="italic">Chapter 16</em></a>, <em class="italic">Building Protocols on Top of TCP</em>, covers processing TCP byte streams into advanced data structures using structs and framing.</p>
			<p><a href="B18722_17.xhtml#_idTextAnchor323"><em class="italic">Chapter 17</em></a>, <em class="italic">Implementing Actors and Async with the Hyper Framework</em>, covers building an async system using the actor framework that accepts HTTP requests via the Hyper framework.</p>
			<p><a href="B18722_18.xhtml#_idTextAnchor335"><em class="italic">Chapter 18</em></a>, <em class="italic">Queuing Tasks with Redis</em>, covers accepting HTTP requests and packaging them as tasks to put on a Redis queue for a pool of workers to process.</p>
			<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/>To get the most out of this book</h1>
			<p>You will need to know some basic concepts around HTML and CSS. You will also need to have some basic understanding of JavaScript. However, the HTML, CSS, and JavaScript is only needed for displaying data in the browser. If you are just reading the book to build backend API servers in Rust, then knowledge of HTML, CSS, and JavaScript is not needed.<em class="italic"> </em></p>
			<p>Some basic understanding of programming concepts such as functions and loops will also be needed as these will not be covered in the book. </p>
			<table id="table001" class="No-Table-Style">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Software/hardware covered in </strong><strong class="bold">the book</strong></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Operating </strong><strong class="bold">system requirements</strong></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Rust</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Node (for JavaScript)</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Python 3</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Docker</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>docker-compose</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Postman</p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Terraform </p>
						</td>
						<td class="No-Table-Style">
							<p>Windows, macOS, or Linux (any)</p>
						</td>
					</tr>
				</tbody>
			</table>
			<p>To take full advantage of the deployment on AWS chapters, you will need an AWS account, which might cost if you are not eligible for the Free Tier. However, the builds are automated with Terraform, so spinning up builds and tearing them down will be quick and easy, so you will not need to keep the infrastructure running while working through the book, keeping the costs to a minimum.</p>
			<p><strong class="bold">If you are using the digital version of this book, we advise you to type the code yourself or access the code from the book’s GitHub repository (a link is available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting </strong><strong class="bold">of code.</strong></p>
			<p>By the of this book, you will have a solid foundation of building and deploying Rust servers. However, it must be noted that Rust is a powerful language. As this book focuses on web programming and deployment, there is scope for improvement in Rust programming after the book. Further reading on Rust is advised after the book to enable you to solve more complex problems.</p>
			<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/>Download the example code files</h1>
			<p>You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition">https://github.com/PacktPublishing/Rust-Web-Programming-2nd-Edition</a>. If there’s an update to the code, it will be updated in the GitHub repository.</p>
			<p>We also have other code bundles from our rich catalog of books and videos available at <a href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p>
			<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/>Download the color images</h1>
			<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it here: <a href="https://packt.link/Z1lgk">https://packt.link/Z1lgk</a>.</p>
			<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/>Conventions used</h1>
			<p>There are a number of text conventions used throughout this book.</p>
			<p><code>Code in text</code>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: “This means that we must alter the existing schema for the to-do item table and add a user schema to the <code>src/schema.rs</code> file.”</p>
			<p>A block of code is set as follows:</p>
			<pre class="source-code">
table! {
    to_do (id) {
        id -&gt; Int4,
        title -&gt; Varchar,
        status -&gt; Varchar,
        date -&gt; Timestamp,
        user_id -&gt; Int4,
    }
}
table! {
    users (id) {
        id -&gt; Int4,
        username -&gt; Varchar,
        email -&gt; Varchar,
        password -&gt; Varchar,
        unique_id -&gt; Varchar,
    }
}</pre>
			<p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p>
			<pre class="source-code">
[default]
exten =&gt; s,1,Dial(Zap/1|30)
exten =&gt; s,2,Voicemail(u100)
<strong class="bold">exten =&gt; s,102,Voicemail(b100)</strong>
exten =&gt; i,1,Voicemail(s0)</pre>
			<p>Any command-line input or output is written as follows:</p>
			<pre class="console">
docker-compose up</pre>
			<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see onscreen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: “If we press the <strong class="bold">Send</strong> button in Postman another two times before the initial 30 seconds is up, we get the following printout:”</p>
			<p class="callout-heading">Tips or important notes	</p>
			<p class="callout">Appear like this.</p>
			<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/>Get in touch</h1>
			<p>Feedback from our readers is always welcome.</p>
			<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at <a href="mailto:customercare@packtpub.com">customercare@packtpub.com</a> and mention the book title in the subject of your message.</p>
			<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in the form.</p>
			<p><strong class="bold">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <a href="mailto:copyright@packt.com">copyright@packt.com</a> with a link to the material.</p>
			<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com">authors.packtpub.com</a>.</p>
			<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/>Share Your Thoughts</h1>
			<p>Once you’ve read <em class="italic">Rust Web Programming - Second Edition</em>, we’d love to hear your thoughts! Please <a href="">click here to go straight to the Amazon review page</a> for this book and share your feedback.</p>
			<p>Your review is important to us and the tech community and will help us make sure we’re delivering excellent quality content.</p>
			<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Download a free PDF copy of this book</h1>
			<p>Thanks for purchasing this book!</p>
			<p>Do you like to read on the go but are unable to carry your print books everywhere? Is your eBook purchase not compatible with the device of your choice?</p>
			<p>Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
			<p>Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application. </p>
			<p>The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily</p>
			<p>Follow these simple steps to get the benefits:</p>
			<ol>
				<li>Scan the QR code or visit the link below</li></ol>
<div><img src="img/B18722_QR_Free_PDF.jpg" alt=""/></div>			
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a href="">https://packt.link/free-ebook/9781803234694</a></p>
<ol>			
				<li value="2">Submit your proof of purchase</li>
				<li>That’s it! We’ll send your free PDF and other benefits to your email directly</li>
			</ol>
		</div>
	

		<div><h1 id="_idParaDest-15"><a id="_idTextAnchor014"/>Part 1:Getting Started with Rust Web Development</h1>
			<p>Coding in Rust can be challenging. In this part, we cover the basics of Rust programming and how to build applications spanning multiple files in a project with dependencies. By the end of this part, you will be able to build applications in Rust, manage dependencies, navigate the Rust borrow checker, and manage data collections, structs, the basic design structure, and referencing structs. </p>
			<p>This part includes the following chapters:</p>
			<ul>
				<li><a href="B18722_01.xhtml#_idTextAnchor015"><em class="italic">Chapter 1</em></a>, <em class="italic">A Quick Introduction to Rust</em></li>
				<li><a href="B18722_02.xhtml#_idTextAnchor039"><em class="italic">Chapter 2</em></a>, <em class="italic">Designing Your Web Application in Rust</em></li>
			</ul>
		</div>
		<div><div></div>
		</div>
		<div><div></div>
		</div>
	</body></html>