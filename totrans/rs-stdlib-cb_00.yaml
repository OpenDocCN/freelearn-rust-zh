- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Mozilla's Rust is slowly gaining attention, with amazing features and a powerful
    library. This book will take you through varied recipes that will teach you how
    to leverage the standard library to implement efficient solutions.
  prefs: []
  type: TYPE_NORMAL
- en: The book begins with a brief look at the basic modules of the standard library
    and collections. From there, the recipes will cover crates, which support file/directory
    handling and (de)serialization for the most common data formats. You will learn
    about crates related to advanced data structures, error handling, and networking.
    You will also learn to work with futures and experimental nightly features. The
    book also covers the most relevant external crates in Rust. You will be able to
    compose your own algorithms using the standard modules of the library.
  prefs: []
  type: TYPE_NORMAL
- en: By the end of the book, you will be proficient at using the *Rust Standard Library
    Cookbook*.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is for developers who would like to explore the power of Rust and
    learn to use the standard library for various functionalities. Basic Rust programming
    knowledge and Terminal skills are assumed.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[Chapter 1](0620f24b-d897-497a-b000-d63a1426c3ff.xhtml), *Learning the Basics*,
    builds a strong foundation of fundamental principles and techniques that are useful
    in all kinds of situations. It will also show you how to accept user input on
    the command line so that you can write, all the coming chapters in an interactive
    way if you wanted to.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 2](977b8621-cb73-43de-9a2b-4bc9f5583542.xhtml), *Working with Collections*,
    gives you a comprehensive overview of all the major data collections in Rust,
    which includes illustrations of how data is stored in your RAM so that you''re
    ready to choose the right collection for the right task.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 3](6c3fb839-4c52-4c58-a2f9-183220f7a3be.xhtml), *Handling Files and
    the Filesystem*, shows you how to connect your existing tools with the filesystem,
    allowing you to store, read, and search files on your computer. We will also learn
    how to compress data in order to send it efficiently over the internet.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 4](c9c593dc-fc0e-4305-b819-4b112cb98684.xhtml), *Serialization*, introduces
    you to today''s most common data formats and how to (de)serialize them in Rust,
    enabling you to connect your programs to many services by communicating across
    tools.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 5](6b8b0c3c-2644-4684-b1f4-b1e08d62450c.xhtml), *Advanced Data Structures*,
    builds a foundation for the chapters to come by providing useful information about
    general modules and Rust''s smart pointers. You will also learn how to generate
    code for annotated structures at compile time by using custom #[derive()] statements.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 6](d2c7b7cb-3060-40b8-adb4-408eee7940a1.xhtml), *Handling Errors*,
    teaches you about Rust''s error-handling concept and how to interact seamlessly
    with it by creating custom errors and loggers for your use case. We will also
    look at how to design structures in a way that cleans up a user''s resources without
    them noticing.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 7](ca93ce61-1a86-4588-9da0-766bed49876f.xhtml), *Parallelism and Rayon*,
    brings you to the world of multithreading and proves to you that Rust really gives
    you *fearless concurrency*. You will learn how to effortlessly adapt your algorithms
    in order to use the full power of your CPU.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 8](dccc0c20-85ff-46a7-a1b8-463a5dd92ba0.xhtml), *Working with Futures*,
    introduces you to asynchronous concepts for your program and prepares you for
    all libraries that work with *futures*, which are Rust''s version of tasks that
    can run in the background of your program.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 9](fec1c9bd-acc2-4de5-a4ee-69393768b4c0.xhtml), *Networking*, helps
    connect you to the internet by teaching you how to set up low-level servers, respond
    to requests in different protocols, and communicate with the World Wide Web.'
  prefs: []
  type: TYPE_NORMAL
- en: '[Chapter 10](f2c7ca21-145e-40af-8502-8b42b37fe290.xhtml), *Using Experimental
    Nightly Features*, ensures that you stay ahead in your knowledge of Rust. It will
    show you tomorrow''s way of programming by giving you a tour of the most anticipated
    features that are still considered unstable.'
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book has been written with and tested for the Rust versions rustc 1.24.1
    and rustc 1.26.0-nightly; however, Rust's strong backward compatibility should
    make it possible for you to use any newer versions for all chapters except the
    last. [Chapter 10](f2c7ca21-145e-40af-8502-8b42b37fe290.xhtml)*, Using Experimental
    Nightly Features*, is working with cutting-edge technology that is expected to
    improve through ground-breaking changes.
  prefs: []
  type: TYPE_NORMAL
- en: To download the newest Rust version, visit [https://rustup.rs/](https://rustup.rs/),
    where you will be able to download a Rust installer for your operating system.
    It's okay to leave it at the standard settings. Make sure to call rustup default
    nightly before starting [Chapter 10](f2c7ca21-145e-40af-8502-8b42b37fe290.xhtml),
    *Using Experimental Nightly Features*. Don't worry, you'll be reminded again when
    it's time.
  prefs: []
  type: TYPE_NORMAL
- en: An active internet connection is required for many recipes, as we will work
    intensively with crates. These are Rust's way of distributing libraries over the
    internet, and they are hosted at [https://crates.io/](https://crates.io/).
  prefs: []
  type: TYPE_NORMAL
- en: You might wonder why a book about Rust's standard library, orÂ std for short,
    uses so much code from outside the std. That's because Rust, in contrast to most
    other system languages, was designed with strong dependency management in mind
    from the beginning. It's so easy to pull crates into your code that a lot of specific
    functionality has been outsourced to officially recommended crates. This helps
    the core standard library that is distributed with Rust to stay simple and very
    stable.
  prefs: []
  type: TYPE_NORMAL
- en: The most official group of crates after the std is the *nursery* ([https://github.com/rust-lang-nursery?language=rust](https://github.com/rust-lang-nursery?language=rust)).
    These crates are the standard for many operations and are nearly stable or generic
    enough to be in the std.
  prefs: []
  type: TYPE_NORMAL
- en: If we can't find a crate for a recipe in the nursery, we look at the crates
    of the Rust core team members ([https://github.com/orgs/rust-lang/people](https://github.com/orgs/rust-lang/people)),
    who put a lot of effort into providing functionality that is missing from the
    standard library. These crates are not in the nursery because they are usually
    specific enough that it is not worth allocating too many resources to actively
    maintaining them.
  prefs: []
  type: TYPE_NORMAL
- en: All the code in this book has been formatted with the newest rustfmt (rustfmt-nightly
    v0.4.0), which you can optionally download using rustup component add rustfmt-preview
    and run with cargo fmt. The code on GitHub ([https://github.com/jnferner/rust-standard-library-cookbook](https://github.com/jnferner/rust-standard-library-cookbook))
    is going to be actively maintained and consequently formatted using a newer version
    of rustfmt, if available. In some cases, this means that the source code line
    markings can become outdated. It should not be hard to find the code, however,
    as this shift is usually no greater than two or three lines.
  prefs: []
  type: TYPE_NORMAL
- en: All code has also been checked by Rust's official linter, clippy ([https://github.com/rust-lang-nursery/rust-clippy](https://github.com/rust-lang-nursery/rust-clippy)),
    using version 0.0.187\. If you want, you can install it with cargo +nightly install
    clippy and run it with cargo +nightly clippy. The newest version tends to break
    quite often though, so don't be surprised if it doesn't work outright.
  prefs: []
  type: TYPE_NORMAL
- en: Some clippy and rustc warnings have been left in the code intentionally. Most
    of these are either dead code, which happens when we assign a value to a variable
    to illustrate a concept and then don't need to use the variable anymore, or usage
    of placeholder names such as foo, bar, or baz, which are used when the exact purpose
    of a variable is irrelevant to the recipe.
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  prefs: []
  type: TYPE_NORMAL
- en: 'You can download the code files by following these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the SUPPORT tab.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on Code Downloads & Errata.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: WinRAR/7-Zip for Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Zipeg/iZip/UnRarX for Mac
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 7-Zip/PeaZip for Linux
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The code bundle for the book is also hosted on GitHub atÂ [https://github.com/PacktPublishing/Rust-Standard-Library-Cookbook/](https://github.com/PacktPublishing/Rust-Standard-Library-Cookbook/).Â If
    there's an update to the code, it will be updated on the existing GitHub repository.
  prefs: []
  type: TYPE_NORMAL
- en: We also have other code bundles from our rich catalog of books and videos available
    atÂ **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  prefs: []
  type: TYPE_NORMAL
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example:Â "In theÂ `bin`Â folder, create a file calledÂ `dynamic_json.rs`."'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: 'Any command-line input or output is written as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this.'
  prefs: []
  type: TYPE_NORMAL
- en: Warnings or important notes appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Sections
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this book, you will find several headings that appear frequently (*Getting
    ready*, *How to do it...*, *How it works...*, *There's more...*, and *See also*).
  prefs: []
  type: TYPE_NORMAL
- en: 'To give clear instructions on how to complete a recipe, use these sections
    as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section tells you what to expect in the recipe and describes how to set
    up any software or any preliminary settings required for the recipe.
  prefs: []
  type: TYPE_NORMAL
- en: How to do itâ¦
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section contains the steps required to follow the recipe.
  prefs: []
  type: TYPE_NORMAL
- en: How it worksâ¦
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section usually consists of a detailed explanation of what happened in
    the previous section.
  prefs: []
  type: TYPE_NORMAL
- en: There's moreâ¦
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section consists of additional information about the recipe in order to
    make you more knowledgeable about the recipe.
  prefs: []
  type: TYPE_NORMAL
- en: See also
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This section provides helpful links to other useful information for the recipe.
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: Email `feedback@packtpub.com`Â and mention the book title
    in the subject of your message. If you have questions about any aspect of this
    book, please email us at `questions@packtpub.com`.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visitÂ [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com/).'
  prefs: []
  type: TYPE_NORMAL
- en: Reviews
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  prefs: []
  type: TYPE_NORMAL
- en: For more information about Packt, please visit [packtpub.com](https://www.packtpub.com/).
  prefs: []
  type: TYPE_NORMAL
- en: Disclaimer
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Where explicitly stated, this book contains code and excerpts from the The
    Rust Programming Language ([https://doc.rust-lang.org/stable/book/](https://doc.rust-lang.org/stable/book/)),
    first and second edition, which are both distributed under the MIT license under
    the following terms:'
  prefs: []
  type: TYPE_NORMAL
- en: '"Copyright Â© 2010 The Rust Project Developers Permission is hereby granted,
    free of charge, to any person obtaining a copy of this software and associated
    documentation files (the "Software"), to deal in the Software without restriction,
    including without limitation the rights to use, copy, modify, merge, publish,
    distribute, sublicense, and/or sell copies of the Software, and to permit persons
    to whom the Software is furnished to do so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS",
    WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
    THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
    IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES
    OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE."'
  prefs: []
  type: TYPE_NORMAL
