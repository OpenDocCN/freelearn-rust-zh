- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Rust is the new open source and compiled programming language that finally promises
    software developers the utmost safety—not only type safety but memory safety as
    well. The compiler carefully checks all uses of variables and pointers so that
    common problems from C / C++ and other languages, such as pointers to wrong memory
    locations or null references, are a thing of the past. Potential problems are
    detected at compilation time so that Rust programs execute at speeds that are
    comparable with their C++ counterparts.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Rust 是一种新的开源编译型编程语言，最终为软件开发者提供了前所未有的安全性——不仅类型安全，而且内存安全。编译器仔细检查所有变量的使用和指针，因此C
    / C++和其他语言中常见的错误，如指向错误内存位置的指针或空引用，已成为过去式。潜在的问题在编译时就被检测到，因此Rust程序可以以与C++版本相当的速度执行。
- en: Rust runs with a very light runtime, which does not perform garbage collection.
    Again the compiler takes care of generating code that frees all resources at the
    right time. This means Rust can run in very constrained environments, such as
    embedded or real-time systems. When executing code concurrently no data races
    can occur, because the compiler imposes the same memory safety restrictions as
    when the code executes consecutively.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Rust运行在一个非常轻量级的运行时环境中，不执行垃圾回收。同样，编译器负责生成在正确时间释放所有资源的代码。这意味着Rust可以在非常受限的环境中运行，例如嵌入式或实时系统。当并发执行代码时，不会发生数据竞争，因为编译器对内存安全性的限制与代码顺序执行时相同。
- en: From the preceding description, it is clear that Rust is applicable in all use
    cases where C and C++ were the preferred languages until now and that it will
    do a better job.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 从前面的描述中可以看出，Rust 适用于所有以前C和C++是首选语言的用例，并且它将做得更好。
- en: Rust is a very rich language; it has concepts (such as immutability by default)
    and constructs (such as traits) that enable developers to write code in a highly
    functional and object-oriented style.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: Rust 是一种非常丰富的语言；它具有（如默认不可变等）概念和（如特质等）结构，使开发者能够以高度函数式和面向对象的方式编写代码。
- en: The original goal of Rust was to serve as the language to write a new safe browser
    engine that was devoid of the many security flaws that plague existing browsers.
    This is the Servo project from Mozilla Research.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: Rust的原始目标是作为一种语言来编写一个全新的安全浏览器引擎，这个引擎没有现有浏览器所困扰的许多安全漏洞。这是来自Mozilla Research的Servo项目。
- en: 'The goal of this book is to give you a firm foundation so that you can start
    to develop in Rust. Throughout the book, we emphasize the three pillars of Rust:
    safety, performance, and concurrency. We discuss the areas and the reasons why
    Rust differs from other programming languages. The code examples are not chosen
    ad hoc, but they are oriented as part of an ongoing project to build a game so
    that there is a sense of cohesion and evolution in the examples.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的目标是为您打下坚实的基础，以便您可以从Rust开始开发。整本书中，我们强调Rust的三个支柱：安全性、性能和并发性。我们讨论了Rust与其他编程语言不同的领域和原因。代码示例不是随意选择的，而是作为构建游戏项目的一部分，以便示例中有一个连贯性和演变的感觉。
- en: Throughout the book, I will urge you to learn by doing things; you can follow
    along by typing in the code, making the requested modifications, compiling, testing,
    and working out the exercises.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我将敦促您通过实践来学习；您可以通过输入代码、进行所需的修改、编译、测试和完成练习来跟随。
- en: What this book covers
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](part0014.xhtml#aid-DB7S1 "Chapter 1. Starting with Rust"), *Starting
    with Rust*, discusses the main reasons that led to the development of Rust. We
    compare Rust with other languages and indicate the areas in which it is most appropriate.
    Then, we guide you through the installation of all the necessary components for
    Rust''s development environment.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](part0014.xhtml#aid-DB7S1 "第1章。从Rust开始"), *从Rust开始* 讨论了导致Rust发展的主要原因。我们比较了Rust与其他语言，并指出了它最合适的领域。然后，我们指导您安装Rust开发环境所需的所有必要组件。'
- en: '[Chapter 2](part0023.xhtml#aid-LTSU1 "Chapter 2. Using Variables and Types"),
    *Using Variables and Types*, looks at the basic structure of a Rust program. We
    discuss the primitive types, how to declare variables and whether they have to
    be typed, and the scope of variables. Immutability, which is one of the key cornerstones
    of Rust''s safety strategy, is also illustrated. Then, we look at basic operations,
    how to do formatted printing, and the important difference between expressions
    and statements.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](part0023.xhtml#aid-LTSU1 "第2章。使用变量和类型")，*使用变量和类型*，探讨了Rust程序的基本结构。我们讨论了原始类型，如何声明变量以及它们是否需要类型化，以及变量的作用域。不可变性，这是Rust安全策略的关键基石之一，也得到了说明。然后，我们查看基本操作，如何进行格式化打印，以及表达式和语句之间的重要区别。'
- en: '[Chapter 3](part0032.xhtml#aid-UGI01 "Chapter 3. Using Functions and Control
    Structures"), *Using Functions and Control Structures*, shows you how to define
    functions and the different ways to influence program execution flow in Rust.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](part0032.xhtml#aid-UGI01 "第3章。使用函数和控制结构")，*使用函数和控制结构*，展示了如何在Rust中定义函数以及影响程序执行流程的不同方式。'
- en: '[Chapter 4](part0038.xhtml#aid-147LC2 "Chapter 4. Structuring Data and Matching
    Patterns"), *Structuring Data and Matching Patterns*, discusses the basic data
    types for programming, such as strings, vectors, slices, tuples, and enums. Then,
    we show you the powerful pattern matching that is possible in Rust and how values
    are extracted by de-structuring patterns.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](part0038.xhtml#aid-147LC2 "第4章。结构化数据和匹配模式")，*结构化数据和匹配模式*，讨论了编程的基本数据类型，如字符串、向量、切片、元组和枚举。然后，我们向您展示Rust中可能的强大模式匹配以及如何通过解构模式提取值。'
- en: '[Chapter 5](part0046.xhtml#aid-1BRPS1 "Chapter 5. Generalizing Code with Higher-order
    Functions and Parametrization"), *Generalizing Code with Higher-order Functions
    and Parametrization*, explores the functional and object-oriented features of
    Rust. You will see how data structures and functions can be defined in a generic
    way and how traits can be used to define behavior.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](part0046.xhtml#aid-1BRPS1 "第5章。使用高阶函数和参数化泛化代码")，*使用高阶函数和参数化泛化代码*，探讨了Rust的功能性和面向对象特性。您将看到数据结构和函数如何以泛化的方式定义，以及如何使用特质来定义行为。'
- en: '[Chapter 6](part0056.xhtml#aid-1LCVG2 "Chapter 6. Pointers and Memory Safety"),
    *Pointers and Memory Safety*, exposes the borrow checker, which is Rust''s mechanism
    to ensure that only memory safe operations can occur. We discuss different kinds
    of pointers as well as how to handle runtime errors.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](part0056.xhtml#aid-1LCVG2 "第6章。指针和内存安全")，*指针和内存安全*，介绍了借用检查器，这是Rust确保只能发生内存安全操作的机制。我们讨论了不同类型的指针以及如何处理运行时错误。'
- en: '[Chapter 7](part0062.xhtml#aid-1R42S2 "Chapter 7. Organizing Code and Macros"),
    *Organizing Code and Macros*, discusses the bigger code-organizing structures
    in Rust. We will also touch upon how to build macros in order to generate code
    and save time and effort.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](part0062.xhtml#aid-1R42S2 "第7章。组织代码和宏")，*组织代码和宏*，讨论了Rust中更大的代码组织结构。我们还将涉及如何构建宏以生成代码并节省时间和精力。'
- en: '[Chapter 8](part0065.xhtml#aid-1TVKI2 "Chapter 8. Concurrency and Parallelism"),
    *Concurrency and Parallelism*, delves into Rust''s concurrency model with its
    basic concepts of threads and channels. We also discuss a safe strategy for working
    with shared mutable data.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](part0065.xhtml#aid-1TVKI2 "第8章。并发和并行")，*并发和并行*，深入探讨了Rust的并发模型及其基本概念：线程和通道。我们还讨论了处理共享可变数据的安全策略。'
- en: '[Chapter 9](part0069.xhtml#aid-21PMQ1 "Chapter 9. Programming at the Boundaries"),
    *Programming at the Boundaries*, looks at how Rust can take command-line parameters
    to process. Then, we go on to look at situations where we have to leave the safety
    boundaries, such as when we interface with C or use raw pointers, and how Rust
    minimizes potential dangers when we do so.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](part0069.xhtml#aid-21PMQ1 "第9章。边界编程")，*边界编程*，探讨了Rust如何接受命令行参数进行处理。然后，我们继续探讨我们必须离开安全边界的情况，例如当我们与C接口或使用原始指针时，以及Rust如何在这种情况下最小化潜在危险。'
- en: '[Appendix](part0075.xhtml#aid-27GQ61 "Appendix A. Exploring Further"), *Exploring
    Further*, talks about the Rust ecosystem and where the reader can find more information
    about certain topics, such as working with files, databases, games, and web development.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[附录](part0075.xhtml#aid-27GQ61 "附录A. 进一步探索")，*进一步探索*，讨论了Rust生态系统以及读者可以在哪里找到更多关于某些主题的信息，例如处理文件、数据库、游戏和Web开发。'
- en: What you need for this book
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 您需要这本书的内容
- en: To run the code examples in the book, you will need the Rust system for your
    computer, which can be downloaded from [http://www.rust-lang.org/install.html](http://www.rust-lang.org/install.html).
    This also contains the Cargo project and the package manager. To work more comfortably
    with the Rust code, a development environment such as Sublime Text can also be
    of use. [Chapter 1](part0014.xhtml#aid-DB7S1 "Chapter 1. Starting with Rust"),
    *Starting with Rust*, contains detailed instructions on how to set up your Rust
    environment.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 要运行书中的代码示例，您需要在您的计算机上安装Rust系统，可以从[http://www.rust-lang.org/install.html](http://www.rust-lang.org/install.html)下载。这还包括Cargo项目和包管理器。为了更舒适地与Rust代码一起工作，Sublime
    Text等开发环境也可能很有用。[第1章](part0014.xhtml#aid-DB7S1 "第1章。从Rust开始")，“从Rust开始”，包含了如何设置Rust环境的详细说明。
- en: Who this book is for
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书面向的对象
- en: This book is intended for developers who have some programming experience in
    C/C++, Java/C#, Python, Ruby, Dart, or a similar language and a basic knowledge
    of general programming concepts. It will get you up and running quickly, giving
    you all you need to start building your own Rust projects.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在为在C/C++、Java/C#、Python、Ruby、Dart或类似语言中具有一些编程经验，并对通用编程概念有基本了解的开发者提供帮助。它将帮助您快速上手，为您提供开始构建自己的Rust项目所需的一切。
- en: Conventions
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of styles of text that distinguish between
    different kinds of information. Here are some examples of these styles, and an
    explanation of their meaning.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您将找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "We
    can see that `main()` is a function declaration because it is preceded by the
    keyword `fn`, which is short and elegant like most Rust keywords."'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter昵称如下所示：“我们可以看到`main()`是一个函数声明，因为它前面有关键字`fn`，这像大多数Rust关键字一样简短而优雅。”
- en: 'A block of code is set as follows:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-27
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：
- en: '[PRE1]'
  id: totrans-29
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都如下所示：
- en: '[PRE2]'
  id: totrans-31
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, in menus or dialog boxes for example, appear in the text like this:
    "When working with Rust code, select **Tools** | **Build System** | **Rust**."'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**以粗体显示。屏幕上显示的词，例如在菜单或对话框中，在文本中如下所示：“当与Rust代码一起工作时，选择**工具** |
    **构建系统** | **Rust**。”'
- en: Note
  id: totrans-33
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要注意事项以如下框的形式出现。
- en: Tip
  id: totrans-35
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Tips and tricks appear like this.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 小技巧和窍门如下所示。
- en: Reader feedback
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or may have disliked. Reader feedback is important for
    us to develop titles that you really get the most out of.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大价值的标题非常重要。
- en: To send us general feedback, simply send an e-mail to `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book title via the subject of your message.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 要向我们发送一般反馈，只需发送一封电子邮件到`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在邮件的主题中提及书名。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide on [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在某个主题上具有专业知识，并且您对撰写或为本书做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您已经是Packt图书的骄傲拥有者了，我们有一些可以帮助您从购买中获得最大价值的事情。
- en: Downloading the example code
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 下载示例代码
- en: You can download the example code files from your account at [http://www.packtpub.com](http://www.packtpub.com)
    for all the Packt Publishing books you have purchased. If you purchased this book
    elsewhere, you can visit [http://www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files e-mailed directly to you.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[http://www.packtpub.com](http://www.packtpub.com)下载示例代码文件，这是您购买的所有Packt出版物的账户。如果您在其他地方购买了这本书，您可以访问[http://www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。
- en: Errata
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 错误更正
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何错误更正，请通过访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误更正提交表单**链接，并输入您的错误更正详情来报告。一旦您的错误更正得到验证，您的提交将被接受，错误更正将被上传到我们的网站或添加到该标题的错误更正部分下的现有错误更正列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看之前提交的错误更正，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**错误更正**部分下。
- en: Piracy
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyright material on the Internet is an ongoing problem across all
    media. At Packt, we take the protection of our copyright and licenses very seriously.
    If you come across any illegal copies of our works, in any form, on the Internet,
    please provide us with the location address or website name immediately so that
    we can pursue a remedy.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过链接[<mailto:copyright@packtpub.com>](mailto:copyright@packtpub.com)与我们联系，提供疑似盗版材料的链接。
- en: We appreciate your help in protecting our authors, and our ability to bring
    you valuable content.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。
- en: Questions
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: You can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    if you are having a problem with any aspect of the book, and we will do our best
    to address it.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在本书的任何方面遇到问题，可以通过链接[<mailto:questions@packtpub.com>](mailto:questions@packtpub.com)与我们联系，我们将尽力解决。
