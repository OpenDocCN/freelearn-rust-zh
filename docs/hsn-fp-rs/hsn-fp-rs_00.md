# 前言

感谢您对 Rust 中函数式编程的兴趣。Rust 是一种非常年轻的编程语言，对于函数式编程社区来说尤其新。尽管如此，该语言提供了丰富的工具，这些工具既实用又复杂。

在本书中，我们将介绍通用的函数式编程原则以及它们如何具体应用于 Rust。我们的目标是提供关于 Rust 的知识和视角，这些知识和视角将超越语言特性的微小变化。Rust 的发展速度非常快，在本书写作过程中，我们引入了新功能，因为它们变得可用且相关。我们希望让读者能够为这个快速变化的环境编写代码，以便他们能够最好地利用新功能。

# 本书面向的对象

本书面向熟悉基本 Rust 特性或愿意在阅读过程中参考其他材料的开发者。我们不会全面解释每个新的符号、库或语法形式，但我们会解释被认为是更高级的库或可能难以阅读的语法。同样，一些仅在介绍性材料中简要解释的概念将在详细解释。

# 本书涵盖的内容

第一章，*功能编程比较*，介绍了 Rust 中的函数式编程。比较了函数式风格与其他在 Rust 中普遍或具有影响力的范例。本章还简要概述了书中将出现的主题。

第二章，*功能控制流*，介绍了 Rust 的控制流结构，并解释了它们如何与函数式编程风格相关。通过示例展示了函数式编程和 Rust 以表达式为中心的特性。尽管有所限制，本章还开始了仅使用过程式表达式风格的编程的持续项目。

第三章，*功能数据结构*，向读者介绍了 Rust 中可用的各种高度表达的数据类型。值得注意的是，枚举类型被引入，这在函数式编程中具有特殊意义。项目继续扩展，以包含这些数据类型。

第四章，*泛型和多态*，解释了数据（泛型）和控制流（多态）参数化的概念。参数化及其与特质的自然交互减轻了程序员的负担，但语法可能会变得复杂。介绍了减少或缓解参数爆炸的一些方法。持续项目再次扩展，以包含这些特性。

第五章，*代码组织和应用程序架构*，讨论了一些架构关注点、建议和最佳实践。设计和管理软件项目的实现并非公式化。没有项目是完全相同的，而且很少有项目高度相似，因此没有工程流程能够捕捉软件开发的所有细微差别。在本章中，我们提供了最佳的工具，特别是功能编程所能提供的最佳工具。

第六章，*可变性、所有权和纯函数*，深入探讨了 Rust 中的一些独特特性。本章介绍了所有权和生命周期概念，这些是学习 Rust 时常见的绊脚石。还介绍了不可变性和纯函数的功能性概念，以帮助解开一个天真的 Rust 程序员在试图规避 Rust 的所有权规则时可能产生的混乱代码。

第七章，*设计模式*，列出了可以放入单个章节中的许多功能编程速查代码。通过示例和一些随意的定义解释了函子（functors）和单子（monads）的概念。本章还简要介绍了功能反应式编程的风格，并使用它构建了一个快速而简单的 Web 框架。

第八章，*实现并发*，解释了如何同时做很多事情。本章的大部分内容都用于阐明子进程、分叉进程和线程之间的差异以及相对的优缺点。然后假设了 Rust 的线程并发模型，并提供了更多信息以阐明 Rust 特有的线程逻辑。在章节的末尾，介绍了并发的行为模型，这是一个能够适应大多数情况和编程范式的强大并发模型。

第九章，*性能、调试和元编程*，以一些关于在 Rust 中进行编程的杂项技巧结束本书。性能技巧并不特别实用，而是主要关注语言特定的细节、一般性建议或相关的计算机科学知识。调试部分介绍了许多防止错误发生的技巧。同时，通过示例解释了如何使用交互式调试器。元编程部分精确地解释了 Rust 宏和过程宏的工作原理。这是 Rust 的一个伟大特性，但文档并不完善，因此可能会让人感到有些畏惧。

# 为了充分利用这本书

1.  我们假设您熟悉 Rust 文档前 10 章的概念([`doc.rust-lang.org/book/`](https://doc.rust-lang.org/book/))。这些章节中的一些内容相当高级，因此当相关时，我们也会在这里解释。然而，我们将期望您了解语法和非常基本的功能。

1.  克隆 GitHub 代码仓库并跟随。调整示例并看看您能创造出什么效果。

1.  保持好奇心。我们提到的某些关键词可能足以填满一本关于独特内容的书。其中一些主题非常普遍，以至于有相当不错的维基百科文章来解释和扩展这些概念。然而，了解关键词是了解搜索什么的基础。

# 下载示例代码文件

您可以从[www.packtpub.com](http://www.packtpub.com)的账户下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

您可以通过以下步骤下载代码文件：

1.  在[www.packtpub.com](http://www.packtpub.com/support)上登录或注册。

1.  选择“支持”选项卡。

1.  点击“代码下载与勘误”。

1.  在搜索框中输入书籍名称，并遵循屏幕上的说明。

一旦文件下载完成，请确保使用最新版本的软件解压或提取文件夹：

+   Windows 上的 WinRAR/7-Zip

+   Mac 上的 Zipeg/iZip/UnRarX

+   Linux 上的 7-Zip/PeaZip

书籍的代码包也托管在 GitHub 上，网址为[`github.com/PacktPublishing/Hands-On-Functional-Programming-in-Rust`](https://github.com/PacktPublishing/Hands-On-Functional-Programming-in-Rust)。如果代码有更新，它将在现有的 GitHub 仓库中更新。

我们还有其他来自我们丰富图书和视频目录的代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。去看看吧！

# 使用的约定

本书使用了多种文本约定。

`CodeInText`：表示文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称。以下是一个示例：“让我们首先定义`physics`模块的一些类型声明。”

代码块设置如下：

```rs
pub trait MotorController
{
   fn init(&mut self, esp: ElevatorSpecification, est: ElevatorState);
   fn poll(&mut self, est: ElevatorState, dst: u64) -> MotorInput;
}
```

任何命令行输入或输出都写作如下：

```rs
closure may outlive the current function, but it borrows `a`, which is
owned by the current function
```

**粗体**：表示新术语、重要词汇或您在屏幕上看到的词汇。

警告或重要提示看起来像这样。

小贴士和技巧看起来像这样。

# 联系我们

我们始终欢迎读者的反馈。

**一般反馈**：请将电子邮件发送至`feedback@packtpub.com`，并在邮件主题中提及书籍标题。如果您对本书的任何方面有疑问，请通过电子邮件联系我们的`questions@packtpub.com`。

**勘误**: 尽管我们已经尽最大努力确保内容的准确性，但错误仍然可能发生。如果您在这本书中发现了错误，我们非常感谢您能向我们报告。请访问[www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击勘误提交表单链接，并输入详细信息。

**盗版**: 如果您在互联网上以任何形式发现我们作品的非法副本，如果您能提供位置地址或网站名称，我们将不胜感激。请通过`copyright@packtpub.com`与我们联系，并附上材料的链接。

**如果您有兴趣成为作者**: 如果您在某个领域有专业知识，并且您有兴趣撰写或为书籍做出贡献，请访问[authors.packtpub.com](http://authors.packtpub.com/)。

# 评价

请留下您的评价。一旦您阅读并使用过这本书，为何不在购买它的网站上留下评价呢？潜在读者可以查看并使用您的客观意见来做出购买决定，我们 Packt 公司可以了解您对我们产品的看法，并且我们的作者可以查看他们对书籍的反馈。谢谢！

如需了解更多关于 Packt 的信息，请访问[packtpub.com](https://www.packtpub.com/)。
