# 前言

Rust 是一种新的开源编译型编程语言，最终为软件开发者提供了前所未有的安全性——不仅类型安全，而且内存安全。编译器仔细检查所有变量的使用和指针，因此 C / C++和其他语言中常见的错误，如指向错误内存位置的指针或空引用，已成为过去式。潜在的问题在编译时就被检测到，因此 Rust 程序可以以与 C++版本相当的速度执行。

Rust 运行在一个非常轻量级的运行时环境中，不执行垃圾回收。同样，编译器负责生成在正确时间释放所有资源的代码。这意味着 Rust 可以在非常受限的环境中运行，例如嵌入式或实时系统。当并发执行代码时，不会发生数据竞争，因为编译器对内存安全性的限制与代码顺序执行时相同。

从前面的描述中可以看出，Rust 适用于所有以前 C 和 C++是首选语言的用例，并且它将做得更好。

Rust 是一种非常丰富的语言；它具有（如默认不可变等）概念和（如特质等）结构，使开发者能够以高度函数式和面向对象的方式编写代码。

Rust 的原始目标是作为一种语言来编写一个全新的安全浏览器引擎，这个引擎没有现有浏览器所困扰的许多安全漏洞。这是来自 Mozilla Research 的 Servo 项目。

本书的目标是为您打下坚实的基础，以便您可以从 Rust 开始开发。整本书中，我们强调 Rust 的三个支柱：安全性、性能和并发性。我们讨论了 Rust 与其他编程语言不同的领域和原因。代码示例不是随意选择的，而是作为构建游戏项目的一部分，以便示例中有一个连贯性和演变的感觉。

在整本书中，我将敦促您通过实践来学习；您可以通过输入代码、进行所需的修改、编译、测试和完成练习来跟随。

# 本书涵盖的内容

第一章, *从 Rust 开始* 讨论了导致 Rust 发展的主要原因。我们比较了 Rust 与其他语言，并指出了它最合适的领域。然后，我们指导您安装 Rust 开发环境所需的所有必要组件。

第二章，*使用变量和类型*，探讨了 Rust 程序的基本结构。我们讨论了原始类型，如何声明变量以及它们是否需要类型化，以及变量的作用域。不可变性，这是 Rust 安全策略的关键基石之一，也得到了说明。然后，我们查看基本操作，如何进行格式化打印，以及表达式和语句之间的重要区别。

第三章，*使用函数和控制结构*，展示了如何在 Rust 中定义函数以及影响程序执行流程的不同方式。

第四章，*结构化数据和匹配模式*，讨论了编程的基本数据类型，如字符串、向量、切片、元组和枚举。然后，我们向您展示 Rust 中可能的强大模式匹配以及如何通过解构模式提取值。

第五章，*使用高阶函数和参数化泛化代码*，探讨了 Rust 的功能性和面向对象特性。您将看到数据结构和函数如何以泛化的方式定义，以及如何使用特质来定义行为。

第六章，*指针和内存安全*，介绍了借用检查器，这是 Rust 确保只能发生内存安全操作的机制。我们讨论了不同类型的指针以及如何处理运行时错误。

第七章，*组织代码和宏*，讨论了 Rust 中更大的代码组织结构。我们还将涉及如何构建宏以生成代码并节省时间和精力。

第八章，*并发和并行*，深入探讨了 Rust 的并发模型及其基本概念：线程和通道。我们还讨论了处理共享可变数据的安全策略。

第九章，*边界编程*，探讨了 Rust 如何接受命令行参数进行处理。然后，我们继续探讨我们必须离开安全边界的情况，例如当我们与 C 接口或使用原始指针时，以及 Rust 如何在这种情况下最小化潜在危险。

附录，*进一步探索*，讨论了 Rust 生态系统以及读者可以在哪里找到更多关于某些主题的信息，例如处理文件、数据库、游戏和 Web 开发。

# 您需要这本书的内容

要运行书中的代码示例，您需要在您的计算机上安装 Rust 系统，可以从[`www.rust-lang.org/install.html`](http://www.rust-lang.org/install.html)下载。这还包括 Cargo 项目和包管理器。为了更舒适地与 Rust 代码一起工作，Sublime Text 等开发环境也可能很有用。第一章，“从 Rust 开始”，包含了如何设置 Rust 环境的详细说明。

# 这本书面向的对象

本书旨在为在 C/C++、Java/C#、Python、Ruby、Dart 或类似语言中具有一些编程经验，并对通用编程概念有基本了解的开发者提供帮助。它将帮助您快速上手，为您提供开始构建自己的 Rust 项目所需的一切。

# 约定

在本书中，您将找到许多不同风格的文本，以区分不同类型的信息。以下是一些这些风格的示例及其含义的解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 昵称如下所示：“我们可以看到`main()`是一个函数声明，因为它前面有关键字`fn`，这像大多数 Rust 关键字一样简短而优雅。”

代码块设置如下：

```rs
  let tricks = 10;
  let reftricks = &mut tricks;
```

当我们希望您注意代码块中的特定部分时，相关的行或项目将以粗体显示：

```rs
let n1 = {
 let a = 2;
 let b = 5;
 a + b   // <-- no semicolon!
};

```

任何命令行输入或输出都如下所示：

```rs
[root]
name = "welcomec"
version = "0.0.1"

```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的词，例如在菜单或对话框中，在文本中如下所示：“当与 Rust 代码一起工作时，选择**工具** | **构建系统** | **Rust**。”

### 注意

警告或重要注意事项以如下框的形式出现。

### 小贴士

小技巧和窍门如下所示。

# 读者反馈

我们欢迎读者的反馈。请告诉我们您对这本书的看法——您喜欢什么或可能不喜欢什么。读者反馈对我们开发您真正能从中获得最大价值的标题非常重要。

要向我们发送一般反馈，只需发送一封电子邮件到`<feedback@packtpub.com>`，并在邮件的主题中提及书名。

如果您在某个主题上具有专业知识，并且您对撰写或为本书做出贡献感兴趣，请参阅我们的作者指南[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经是 Packt 图书的骄傲拥有者了，我们有一些可以帮助您从购买中获得最大价值的事情。

## 下载示例代码

您可以从[`www.packtpub.com`](http://www.packtpub.com)下载示例代码文件，这是您购买的所有 Packt 出版物的账户。如果您在其他地方购买了这本书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，以便将文件直接通过电子邮件发送给您。

## 错误更正

尽管我们已经尽一切努力确保内容的准确性，但错误仍然可能发生。如果您在我们的某本书中发现错误——可能是文本或代码中的错误——如果您能向我们报告这一点，我们将不胜感激。通过这样做，您可以节省其他读者的挫败感，并帮助我们改进本书的后续版本。如果您发现任何错误更正，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**错误更正提交表单**链接，并输入您的错误更正详情来报告。一旦您的错误更正得到验证，您的提交将被接受，错误更正将被上传到我们的网站或添加到该标题的错误更正部分下的现有错误更正列表中。

要查看之前提交的错误更正，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索字段中输入书籍名称。所需信息将出现在**错误更正**部分下。

## 盗版

互联网上对版权材料的盗版是一个跨所有媒体的持续问题。在 Packt，我们非常重视我们版权和许可证的保护。如果您在互联网上发现我们作品的任何非法副本，无论形式如何，请立即提供位置地址或网站名称，以便我们可以寻求补救措施。

请通过链接<mailto:copyright@packtpub.com>与我们联系，提供疑似盗版材料的链接。

我们感谢您在保护我们的作者以及为我们提供有价值内容的能力方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，可以通过链接<mailto:questions@packtpub.com>与我们联系，我们将尽力解决。
